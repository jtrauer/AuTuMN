import copy

params = {
    'contact_rateXagegroup_0': 0.016907686464380487,
    'contact_rateXagegroup_5': 0.016907686464380487,
    'contact_rateXagegroup_10': 0.01606230214116146,
    'contact_rateXagegroup_15': 0.01606230214116146,
    'contact_rateXagegroup_20': 0.03339268076715146,
    'contact_rateXagegroup_25': 0.03339268076715146,
    'contact_rateXagegroup_30': 0.036351525898418044,
    'contact_rateXagegroup_35': 0.036351525898418044,
    'contact_rateXagegroup_40': 0.033815372928760974,
    'contact_rateXagegroup_45': 0.033815372928760974,
    'contact_rateXagegroup_50': 0.03466075725197999,
    'contact_rateXagegroup_55': 0.03466075725197999,
    'contact_rateXagegroup_60': 0.03719691022163707,
    'contact_rateXagegroup_65': 0.03719691022163707,
    'contact_rateXagegroup_70': 0.0312792199591039,
    'contact_rateXagegroup_75': 0.0312792199591039,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'within_exposed': 0.6512418643711471,
    'to_infectiousXagegroup_0Xclinical_non_sympt': 0.4623817237035144,
    'to_infectiousXagegroup_0Xclinical_sympt_non_hospital': 0.17411196287441366,
    'to_infectiousXagegroup_0Xclinical_sympt_isolate': 0.014647421341920028,
    'to_infectiousXagegroup_0Xclinical_hospital_non_icu': 8.029394060284958e-05,
    'to_infectiousXagegroup_0Xclinical_icu': 2.0462510696094976e-05,
    'to_infectiousXagegroup_5Xclinical_non_sympt': 0.4623817237035144,
    'to_infectiousXagegroup_5Xclinical_sympt_non_hospital': 0.17411196287441366,
    'to_infectiousXagegroup_5Xclinical_sympt_isolate': 0.014647421341920028,
    'to_infectiousXagegroup_5Xclinical_hospital_non_icu': 8.029394060284958e-05,
    'to_infectiousXagegroup_5Xclinical_icu': 2.0462510696094976e-05,
    'to_infectiousXagegroup_10Xclinical_non_sympt': 0.5144810728532062,
    'to_infectiousXagegroup_10Xclinical_sympt_non_hospital': 0.1260810765642306,
    'to_infectiousXagegroup_10Xclinical_sympt_isolate': 0.01046083024916431,
    'to_infectiousXagegroup_10Xclinical_hospital_non_icu': 0.0001744316640682594,
    'to_infectiousXagegroup_10Xclinical_icu': 4.4453040477723566e-05,
    'to_infectiousXagegroup_15Xclinical_non_sympt': 0.5144810728532062,
    'to_infectiousXagegroup_15Xclinical_sympt_non_hospital': 0.1260810765642306,
    'to_infectiousXagegroup_15Xclinical_sympt_isolate': 0.01046083024916431,
    'to_infectiousXagegroup_15Xclinical_hospital_non_icu': 0.0001744316640682594,
    'to_infectiousXagegroup_15Xclinical_icu': 4.4453040477723566e-05,
    'to_infectiousXagegroup_20Xclinical_non_sympt': 0.47540656099093737,
    'to_infectiousXagegroup_20Xclinical_sympt_non_hospital': 0.1621042412968679,
    'to_infectiousXagegroup_20Xclinical_sympt_isolate': 0.012605369317105321,
    'to_infectiousXagegroup_20Xclinical_hospital_non_icu': 0.0008970771294939056,
    'to_infectiousXagegroup_20Xclinical_icu': 0.00022861563674257836,
    'to_infectiousXagegroup_25Xclinical_non_sympt': 0.47540656099093737,
    'to_infectiousXagegroup_25Xclinical_sympt_non_hospital': 0.1621042412968679,
    'to_infectiousXagegroup_25Xclinical_sympt_isolate': 0.012605369317105321,
    'to_infectiousXagegroup_25Xclinical_hospital_non_icu': 0.0008970771294939056,
    'to_infectiousXagegroup_25Xclinical_icu': 0.00022861563674257836,
    'to_infectiousXagegroup_30Xclinical_non_sympt': 0.43633204912866846,
    'to_infectiousXagegroup_30Xclinical_sympt_non_hospital': 0.1981274060295052,
    'to_infectiousXagegroup_30Xclinical_sympt_isolate': 0.013113484641535885,
    'to_infectiousXagegroup_30Xclinical_hospital_non_icu': 0.00292380694057273,
    'to_infectiousXagegroup_30Xclinical_icu': 0.0007451176308646999,
    'to_infectiousXagegroup_35Xclinical_non_sympt': 0.43633204912866846,
    'to_infectiousXagegroup_35Xclinical_sympt_non_hospital': 0.1981274060295052,
    'to_infectiousXagegroup_35Xclinical_sympt_isolate': 0.013113484641535885,
    'to_infectiousXagegroup_35Xclinical_hospital_non_icu': 0.00292380694057273,
    'to_infectiousXagegroup_35Xclinical_icu': 0.0007451176308646999,
    'to_infectiousXagegroup_40Xclinical_non_sympt': 0.39074511862268824,
    'to_infectiousXagegroup_40Xclinical_sympt_non_hospital': 0.24015443155091543,
    'to_infectiousXagegroup_40Xclinical_sympt_isolate': 0.013532567833890608,
    'to_infectiousXagegroup_40Xclinical_hospital_non_icu': 0.005426762882123627,
    'to_infectiousXagegroup_40Xclinical_icu': 0.0013829834815291778,
    'to_infectiousXagegroup_45Xclinical_non_sympt': 0.39074511862268824,
    'to_infectiousXagegroup_45Xclinical_sympt_non_hospital': 0.24015443155091543,
    'to_infectiousXagegroup_45Xclinical_sympt_isolate': 0.013532567833890608,
    'to_infectiousXagegroup_45Xclinical_hospital_non_icu': 0.005426762882123627,
    'to_infectiousXagegroup_45Xclinical_icu': 0.0013829834815291778,
    'to_infectiousXagegroup_50Xclinical_non_sympt': 0.332133350829285,
    'to_infectiousXagegroup_50Xclinical_sympt_non_hospital': 0.2941891786498714,
    'to_infectiousXagegroup_50Xclinical_sympt_isolate': 0.007554481664676029,
    'to_infectiousXagegroup_50Xclinical_hospital_non_icu': 0.013838245349415247,
    'to_infectiousXagegroup_50Xclinical_icu': 0.0035266078778994027,
    'to_infectiousXagegroup_55Xclinical_non_sympt': 0.332133350829285,
    'to_infectiousXagegroup_55Xclinical_sympt_non_hospital': 0.2941891786498714,
    'to_infectiousXagegroup_55Xclinical_sympt_isolate': 0.007554481664676029,
    'to_infectiousXagegroup_55Xclinical_hospital_non_icu': 0.013838245349415247,
    'to_infectiousXagegroup_55Xclinical_icu': 0.0035266078778994027,
    'to_infectiousXagegroup_60Xclinical_non_sympt': 0.2409594898173244,
    'to_infectiousXagegroup_60Xclinical_sympt_non_hospital': 0.3739475135991895,
    'to_infectiousXagegroup_60Xclinical_sympt_isolate': 0.0,
    'to_infectiousXagegroup_60Xclinical_hospital_non_icu': 0.028955656235331067,
    'to_infectiousXagegroup_60Xclinical_icu': 0.007379204719302113,
    'to_infectiousXagegroup_65Xclinical_non_sympt': 0.2409594898173244,
    'to_infectiousXagegroup_65Xclinical_sympt_non_hospital': 0.3739475135991895,
    'to_infectiousXagegroup_65Xclinical_sympt_isolate': 0.0,
    'to_infectiousXagegroup_65Xclinical_hospital_non_icu': 0.028955656235331067,
    'to_infectiousXagegroup_65Xclinical_icu': 0.007379204719302113,
    'to_infectiousXagegroup_70Xclinical_non_sympt': 0.2018849779550556,
    'to_infectiousXagegroup_70Xclinical_sympt_non_hospital': 0.3911022857633534,
    'to_infectiousXagegroup_70Xclinical_sympt_isolate': 0.0,
    'to_infectiousXagegroup_70Xclinical_hospital_non_icu': 0.046423741451309605,
    'to_infectiousXagegroup_70Xclinical_icu': 0.011830859201428427,
    'to_infectiousXagegroup_75Xclinical_non_sympt': 0.2018849779550556,
    'to_infectiousXagegroup_75Xclinical_sympt_non_hospital': 0.38621375492865573,
    'to_infectiousXagegroup_75Xclinical_sympt_isolate': 0.0,
    'to_infectiousXagegroup_75Xclinical_hospital_non_icu': 0.05004380950127413,
    'to_infectiousXagegroup_75Xclinical_icu': 0.01275341550688346,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectious': 0.5753991927157163,
    'within_infectiousXclinical_hospital_non_icu': 0.2,
    'within_infectiousXclinical_icu': 0.2,
    'within_lateXagegroup_0': 0.2872682626301852,
    'within_lateXagegroup_0': 0.2872682626301852,
    'within_lateXagegroup_0': 0.2872682626301852,
    'within_lateXagegroup_0Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_0Xclinical_icu': 0.06323017950657524,
    'within_lateXagegroup_5': 0.2872682626301852,
    'within_lateXagegroup_5': 0.2872682626301852,
    'within_lateXagegroup_5': 0.2872682626301852,
    'within_lateXagegroup_5Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_5Xclinical_icu': 0.06323017950657524,
    'within_lateXagegroup_10': 0.2872682626301852,
    'within_lateXagegroup_10': 0.2872682626301852,
    'within_lateXagegroup_10': 0.2872682626301852,
    'within_lateXagegroup_10Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_10Xclinical_icu': 0.0705053969405473,
    'within_lateXagegroup_15': 0.2872682626301852,
    'within_lateXagegroup_15': 0.2872682626301852,
    'within_lateXagegroup_15': 0.2872682626301852,
    'within_lateXagegroup_15Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_15Xclinical_icu': 0.0705053969405473,
    'within_lateXagegroup_20': 0.2872682626301852,
    'within_lateXagegroup_20': 0.2872682626301852,
    'within_lateXagegroup_20': 0.2872682626301852,
    'within_lateXagegroup_20Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_20Xclinical_icu': 0.09287978570598314,
    'within_lateXagegroup_25': 0.2872682626301852,
    'within_lateXagegroup_25': 0.2872682626301852,
    'within_lateXagegroup_25': 0.2872682626301852,
    'within_lateXagegroup_25Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_25Xclinical_icu': 0.09287978570598314,
    'within_lateXagegroup_30': 0.2872682626301852,
    'within_lateXagegroup_30': 0.2872682626301852,
    'within_lateXagegroup_30': 0.2872682626301852,
    'within_lateXagegroup_30Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_30Xclinical_icu': 0.10308352982681569,
    'within_lateXagegroup_35': 0.2872682626301852,
    'within_lateXagegroup_35': 0.2872682626301852,
    'within_lateXagegroup_35': 0.2872682626301852,
    'within_lateXagegroup_35Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_35Xclinical_icu': 0.10308352982681569,
    'within_lateXagegroup_40': 0.2872682626301852,
    'within_lateXagegroup_40': 0.2872682626301852,
    'within_lateXagegroup_40': 0.2872682626301852,
    'within_lateXagegroup_40Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_40Xclinical_icu': 0.0930177321694191,
    'within_lateXagegroup_45': 0.2872682626301852,
    'within_lateXagegroup_45': 0.2872682626301852,
    'within_lateXagegroup_45': 0.2872682626301852,
    'within_lateXagegroup_45Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_45Xclinical_icu': 0.0930177321694191,
    'within_lateXagegroup_50': 0.2872682626301852,
    'within_lateXagegroup_50': 0.2872682626301852,
    'within_lateXagegroup_50': 0.2872682626301852,
    'within_lateXagegroup_50Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_50Xclinical_icu': 0.08148273194356821,
    'within_lateXagegroup_55': 0.2872682626301852,
    'within_lateXagegroup_55': 0.2872682626301852,
    'within_lateXagegroup_55': 0.2872682626301852,
    'within_lateXagegroup_55Xclinical_hospital_non_icu': 0.1259555644936862,
    'within_lateXagegroup_55Xclinical_icu': 0.08148273194356821,
    'within_lateXagegroup_60': 0.2872682626301852,
    'within_lateXagegroup_60': 0.2872682626301852,
    'within_lateXagegroup_60': 0.2872682626301852,
    'within_lateXagegroup_60Xclinical_hospital_non_icu': 0.12383520784342733,
    'within_lateXagegroup_60Xclinical_icu': 0.06320205815846684,
    'within_lateXagegroup_65': 0.2872682626301852,
    'within_lateXagegroup_65': 0.2872682626301852,
    'within_lateXagegroup_65': 0.2872682626301852,
    'within_lateXagegroup_65Xclinical_hospital_non_icu': 0.12383520784342733,
    'within_lateXagegroup_65Xclinical_icu': 0.06320205815846684,
    'within_lateXagegroup_70': 0.2872682626301852,
    'within_lateXagegroup_70': 0.2872682626301852,
    'within_lateXagegroup_70': 0.2872682626301852,
    'within_lateXagegroup_70Xclinical_hospital_non_icu': 0.10565517246450336,
    'within_lateXagegroup_70Xclinical_icu': 0.06320205815846684,
    'within_lateXagegroup_75': 0.2872682626301852,
    'within_lateXagegroup_75': 0.2872682626301852,
    'within_lateXagegroup_75': 0.2872682626301852,
    'within_lateXagegroup_75Xclinical_hospital_non_icu': -0.016920188111058054,
    'within_lateXagegroup_75Xclinical_icu': 0.06320205815846684,
    ######################################################################
    ######
    ####################
        'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_0Xclinical_icu': 0.054090601757944556,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_5Xclinical_icu': 0.054090601757944556,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10Xclinical_hospital_non_icu': 0.0015418818129661477,
    'infect_deathXagegroup_10Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15Xclinical_hospital_non_icu': 0.0015418818129661477,
    'infect_deathXagegroup_15Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20Xclinical_hospital_non_icu': 0.0011434627398482777,
    'infect_deathXagegroup_20Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25Xclinical_hospital_non_icu': 0.0011434627398482777,
    'infect_deathXagegroup_25Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_30Xclinical_icu': 0.05941770647653,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_35Xclinical_icu': 0.05941770647653,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_40Xclinical_icu': 0.060024009603841515,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_45Xclinical_icu': 0.060024009603841515,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50Xclinical_hospital_non_icu': 0.005278316145735401,
    'infect_deathXagegroup_50Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55Xclinical_hospital_non_icu': 0.005278316145735401,
    'infect_deathXagegroup_55Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60Xclinical_hospital_non_icu': 0.01888031183828831,
    'infect_deathXagegroup_60Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65Xclinical_hospital_non_icu': 0.01888031183828831,
    'infect_deathXagegroup_65Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70Xclinical_hospital_non_icu': 0.03300736494016862,
    'infect_deathXagegroup_70Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75Xclinical_hospital_non_icu': 0.050704850072022814,
    'infect_deathXagegroup_75Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_0Xclinical_icu': 0.054090601757944556,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_5Xclinical_icu': 0.054090601757944556,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10Xclinical_hospital_non_icu': 0.0015418818129661477,
    'infect_deathXagegroup_10Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15Xclinical_hospital_non_icu': 0.0015418818129661477,
    'infect_deathXagegroup_15Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20Xclinical_hospital_non_icu': 0.0011434627398482777,
    'infect_deathXagegroup_20Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25Xclinical_hospital_non_icu': 0.0011434627398482777,
    'infect_deathXagegroup_25Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_30Xclinical_icu': 0.05941770647653,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_35Xclinical_icu': 0.05941770647653,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_40Xclinical_icu': 0.060024009603841515,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_45Xclinical_icu': 0.060024009603841515,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50Xclinical_hospital_non_icu': 0.005278316145735401,
    'infect_deathXagegroup_50Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55Xclinical_hospital_non_icu': 0.005278316145735401,
    'infect_deathXagegroup_55Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60Xclinical_hospital_non_icu': 0.01888031183828831,
    'infect_deathXagegroup_60Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65Xclinical_hospital_non_icu': 0.01888031183828831,
    'infect_deathXagegroup_65Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70Xclinical_hospital_non_icu': 0.03300736494016862,
    'infect_deathXagegroup_70Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75Xclinical_hospital_non_icu': 0.050704850072022814,
    'infect_deathXagegroup_75Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0': 0.0,
    'infect_deathXagegroup_0Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_0Xclinical_icu': 0.054090601757944556,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5': 0.0,
    'infect_deathXagegroup_5Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_5Xclinical_icu': 0.054090601757944556,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10': 0.0,
    'infect_deathXagegroup_10Xclinical_hospital_non_icu': 0.0015418818129661477,
    'infect_deathXagegroup_10Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15': 0.0,
    'infect_deathXagegroup_15Xclinical_hospital_non_icu': 0.0015418818129661477,
    'infect_deathXagegroup_15Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20': 0.0,
    'infect_deathXagegroup_20Xclinical_hospital_non_icu': 0.0011434627398482777,
    'infect_deathXagegroup_20Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25': 0.0,
    'infect_deathXagegroup_25Xclinical_hospital_non_icu': 0.0011434627398482777,
    'infect_deathXagegroup_25Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30': 0.0,
    'infect_deathXagegroup_30Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_30Xclinical_icu': 0.05941770647653,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35': 0.0,
    'infect_deathXagegroup_35Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_35Xclinical_icu': 0.05941770647653,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40': 0.0,
    'infect_deathXagegroup_40Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_40Xclinical_icu': 0.060024009603841515,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45': 0.0,
    'infect_deathXagegroup_45Xclinical_hospital_non_icu': 0.0,
    'infect_deathXagegroup_45Xclinical_icu': 0.060024009603841515,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50': 0.0,
    'infect_deathXagegroup_50Xclinical_hospital_non_icu': 0.005278316145735401,
    'infect_deathXagegroup_50Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55': 0.0,
    'infect_deathXagegroup_55Xclinical_hospital_non_icu': 0.005278316145735401,
    'infect_deathXagegroup_55Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60': 0.0,
    'infect_deathXagegroup_60Xclinical_hospital_non_icu': 0.01888031183828831,
    'infect_deathXagegroup_60Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65': 0.0,
    'infect_deathXagegroup_65Xclinical_hospital_non_icu': 0.01888031183828831,
    'infect_deathXagegroup_65Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70': 0.0,
    'infect_deathXagegroup_70Xclinical_hospital_non_icu': 0.03300736494016862,
    'infect_deathXagegroup_70Xclinical_icu': 0.06666666666666667,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75': 0.0,
    'infect_deathXagegroup_75Xclinical_hospital_non_icu': 0.050704850072022814,
    'infect_deathXagegroup_75Xclinical_icu': 0.06666666666666667,
}

all_params = {

}

for param, val in params.items():
    val = max(val, 0)
    if "X" not in param:
        stem = param
        stratum = "default"
    else:
        stem = param.split('X')[0]
        stratum = param.split(stem)[1]

    if stem not in all_params:
        all_params[stem] = {stratum: val}
    else:
        all_params[stem][stratum] = val


mapping = {
    'contact_rate': "beta_times_sigma",
    'within_exposed': "alpha",
    'to_infectious': "p_ac_times_nu",  # nu = sum of p_ac_times_nu
    'within_infectious': "gamma",
    'within_late': "delta",
    'infect_death': "mu"
}

old_keys = copy.copy(list(all_params.keys()))

for key in old_keys:
    all_params[mapping[key]] = all_params.pop(key)

    if mapping[key] == 'mu':
        removed_keys = []

        for stratum in all_params[mapping[key]]:
            if stratum.count("X") < 2:
                removed_keys.append(stratum)

        for s in removed_keys:
            del all_params[mapping[key]][s]


agegroups = ["agegroup_" + str(int(5.*i)) for i in range(16)]
clinical_groups = ["clinical_" + strata for strata in [
    'non_sympt', 'sympt_non_hospital', 'sympt_isolate', 'hospital_non_icu', 'icu'
        ]
       ]
all_params["p_ac"] = {}
for a in agegroups:
    nu = 0.
    for c in clinical_groups:
        nu += all_params["p_ac_times_nu"]['X' + a + 'X' + c]

    for c in clinical_groups:
        all_params["p_ac"]['X' + a + 'X' + c] = all_params["p_ac_times_nu"]['X' + a + 'X' + c] / nu

del all_params["p_ac_times_nu"]
all_params["nu"] = {'default': nu}

# reformat gamma
for c in clinical_groups:
    if "X" + c not in all_params["gamma"]:
        all_params["gamma"]["X" + c] = all_params["gamma"]['default']
del all_params["gamma"]['default']

# reformat delta
for a in agegroups:
    for c in clinical_groups:
        if "X" + a + "X" + c not in all_params["delta"]:
            all_params["delta"]["X" + a + "X" + c] = all_params["delta"]["X" + a]
    del all_params["delta"]["X" + a]


# reformat mu
for a in agegroups:
    for c in clinical_groups:
        if "X" + a + "X" + c not in all_params["mu"]:
            all_params["mu"]["X" + a + "X" + c] = 0.
###########################
# printing
print("Age groups:")
print(agegroups)
print()
print("Clinical groups:")
print(clinical_groups)

for key, val in all_params.items():
    print(key + ":")
    print(all_params[key])
    print()
